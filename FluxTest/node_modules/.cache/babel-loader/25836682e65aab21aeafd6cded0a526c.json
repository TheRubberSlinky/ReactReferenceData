{"ast":null,"code":"import _slicedToArray from \"E:\\\\TRISTAN\\\\Repos\\\\ReactReferenceData\\\\FluxTest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\TRISTAN\\\\Repos\\\\ReactReferenceData\\\\FluxTest\\\\src\\\\components\\\\Tree\\\\TreeCover.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Tree, Menu, Dropdown, Spin, Layout, Input } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport \"antd/dist/antd.css\"; //import { GetTreeData, GetTreeChildren } from \"./MockData\";\n\nimport { UserOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport { TreeTree } from \"./Tree\";\nimport { TreeSearch } from \"./TreeSearch\"; //fixed calls\n\nconst rootURLCall = \"https://localhost:5001/api/trees\";\nconst childURLCall = \"https://localhost:5001/api/trees/\";\nconst searchURLCall = \"https://localhost:5001/api/tree/\";\nexport function BranchTree(props) {\n  //hooks\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setisLoading = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        search = _useState4[0],\n        setSearch = _useState4[1]; //async function to search the tree\n\n\n  async function treeSearch(e) {\n    if (e != \"\") {\n      const url = \"\".concat(props.searchURLCall).concat(e);\n      let obj = [];\n      const response = await fetch(url, {\n        method: \"GET\"\n      });\n      const json = await response.json();\n      json.map(Main => {\n        obj.push({\n          title: Main.data[2].value,\n          key: Main.data[1].value,\n          icon: Main.data[3].value === \"0\" ? React.createElement(HomeOutlined, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }) : React.createElement(UserOutlined, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }),\n          isLeaf: Main.data[3].value === \"0\" ? false : true\n        });\n      });\n      props.UpdateTree(obj);\n    } else {\n      props.UpdateTree();\n    }\n  } //reset tree data each time rootBranch gets updated\n\n\n  useEffect(() => {}, [props.rootBranch]);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Spin, {\n    spinning: isLoading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(TreeSearch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }), React.createElement(TreeTree, {\n    rootBranch: \"0\",\n    onRightClick: props.onRightClick,\n    onSelect: props.onSelect,\n    rootURLCall: rootURLCall,\n    childURLCall: childURLCall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })));\n}\nBranchTree.propTypes = {\n  rootBranch: PropTypes.string.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onRightClick: PropTypes.func.isRequired,\n  isBranch: PropTypes.bool,\n  //leave for now\n  form: PropTypes.bool //leave for now\n\n};","map":{"version":3,"sources":["E:\\TRISTAN\\Repos\\ReactReferenceData\\FluxTest\\src\\components\\Tree\\TreeCover.js"],"names":["React","useEffect","useState","Tree","Menu","Dropdown","Spin","Layout","Input","PropTypes","UserOutlined","HomeOutlined","TreeTree","TreeSearch","rootURLCall","childURLCall","searchURLCall","BranchTree","props","isLoading","setisLoading","search","setSearch","treeSearch","e","url","obj","response","fetch","method","json","map","Main","push","title","data","value","key","icon","isLeaf","UpdateTree","rootBranch","onRightClick","onSelect","propTypes","string","isRequired","func","isBranch","bool","form"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Tree, Menu, Dropdown, Spin, Layout, Input } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"antd/dist/antd.css\";\r\n//import { GetTreeData, GetTreeChildren } from \"./MockData\";\r\nimport { UserOutlined, HomeOutlined } from \"@ant-design/icons\";\r\nimport { TreeTree } from \"./Tree\";\r\nimport { TreeSearch } from \"./TreeSearch\";\r\n\r\n//fixed calls\r\nconst rootURLCall = \"https://localhost:5001/api/trees\";\r\nconst childURLCall = \"https://localhost:5001/api/trees/\";\r\nconst searchURLCall = \"https://localhost:5001/api/tree/\";\r\n\r\nexport function BranchTree(props) {\r\n  //hooks\r\n  const [isLoading, setisLoading] = useState(false);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  //async function to search the tree\r\n  async function treeSearch(e) {\r\n    if (e != \"\") {\r\n      const url = `${props.searchURLCall}${e}`;\r\n      let obj = [];\r\n      const response = await fetch(url, {\r\n        method: \"GET\",\r\n      });\r\n      const json = await response.json();\r\n      json.map((Main) => {\r\n        obj.push({\r\n          title: Main.data[2].value,\r\n          key: Main.data[1].value,\r\n          icon:\r\n            Main.data[3].value === \"0\" ? <HomeOutlined /> : <UserOutlined />,\r\n          isLeaf: Main.data[3].value === \"0\" ? false : true,\r\n        });\r\n      });\r\n      props.UpdateTree(obj);\r\n    } else {\r\n      props.UpdateTree();\r\n    }\r\n  }\r\n\r\n  //reset tree data each time rootBranch gets updated\r\n  useEffect(() => {}, [props.rootBranch]);\r\n\r\n  return (\r\n    <Layout>\r\n      <Spin spinning={isLoading}>\r\n        <TreeSearch />\r\n\r\n        <TreeTree\r\n          rootBranch=\"0\"\r\n          onRightClick={props.onRightClick}\r\n          onSelect={props.onSelect}\r\n          rootURLCall={rootURLCall}\r\n          childURLCall={childURLCall}\r\n        />\r\n      </Spin>\r\n    </Layout>\r\n  );\r\n}\r\nBranchTree.propTypes = {\r\n  rootBranch: PropTypes.string.isRequired,\r\n  onSelect: PropTypes.func.isRequired,\r\n  onRightClick: PropTypes.func.isRequired,\r\n  isBranch: PropTypes.bool, //leave for now\r\n  form: PropTypes.bool, //leave for now\r\n};\r\n"]},"metadata":{},"sourceType":"module"}