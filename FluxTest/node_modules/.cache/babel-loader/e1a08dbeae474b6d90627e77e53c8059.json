{"ast":null,"code":"import _slicedToArray from \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\src\\\\components\\\\AntTree.js\";\nimport React, { useState } from \"react\";\nimport { Tree, Button, Popover } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport \"antd/dist/antd.css\";\nimport { GetTreeData, GetTreeChildren } from \"./MockData\"; //import { onRightClick } from \"./popup\";\n\nfunction updateTreeData(list, key, children) {\n  return list.map(node => {\n    if (node.key === key) {\n      return _objectSpread({}, node, {\n        children\n      });\n    }\n\n    if (node.children) {\n      return _objectSpread({}, node, {\n        children: updateTreeData(node.children, key, children)\n      });\n    }\n\n    return node;\n  });\n}\n\nfunction GetChildNodes(ParentKey) {\n  let children = GetTreeChildren(ParentKey);\n  return children;\n}\n\nexport function Demo(props) {\n  const _useState = useState(GetTreeData()),\n        _useState2 = _slicedToArray(_useState, 2),\n        treeData = _useState2[0],\n        setTreeData = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        Visible = _useState4[0],\n        setVisible = _useState4[1];\n\n  const _useState5 = useState({\n    pageX: \"\",\n    pageY: \"\",\n    id: \"\",\n    categoryName: \"\"\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        NodePosition = _useState6[0],\n        SetNodePosition = _useState6[1];\n\n  function onLoadData({\n    key,\n    children\n  }) {\n    return new Promise(resolve => {\n      if (children) {\n        resolve();\n        return;\n      }\n\n      setTreeData(origin => updateTreeData(origin, key, GetChildNodes(key)));\n      resolve();\n    });\n  }\n\n  const hide = () => {\n    setVisible(false);\n  };\n\n  const handleVisibleChange = visible => {\n    this.setState({\n      visible\n    });\n  };\n\n  const onSelect = e => {\n    SetNodePosition({\n      rightClickNodeTreeItem: {\n        pageX: e.event.pageX,\n        pageY: e.event.pageY,\n        id: e.node.props[\"data-key\"],\n        categoryName: e.node.props[\"data-title\"]\n      }\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Tree, {\n    loadData: onLoadData // onSelect={props.mySelect}\n    ,\n    onSelect: React.createElement(Popover, {\n      content: React.createElement(\"a\", {\n        onClick: hide,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Close\"),\n      title: \"Title\",\n      trigger: \"click\",\n      visible: Visible,\n      onVisibleChange: handleVisibleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }),\n    treeData: treeData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"menu\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    onClick: () => props.myClick(\"Branch\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Add new Branch\"), React.createElement(Button, {\n    type: \"primary\",\n    onClick: props.myClick,\n    value: \"Employee\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Add new Employee\"));\n} //TODO: move the keys away from a delimited string\n//      add popup instead of buttons to add\n\nDemo.propTypes = {\n  mySelect: PropTypes.func.isRequired,\n  myClick: PropTypes.func.isRequired\n};\nexport default Demo;","map":{"version":3,"sources":["C:\\TRISTAN\\Repos\\React-Reference-Data\\FluxTest\\src\\components\\AntTree.js"],"names":["React","useState","Tree","Button","Popover","PropTypes","GetTreeData","GetTreeChildren","updateTreeData","list","key","children","map","node","GetChildNodes","ParentKey","Demo","props","treeData","setTreeData","Visible","setVisible","pageX","pageY","id","categoryName","NodePosition","SetNodePosition","onLoadData","Promise","resolve","origin","hide","handleVisibleChange","visible","setState","onSelect","e","rightClickNodeTreeItem","event","myClick","propTypes","mySelect","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Tree, Button, Popover } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"antd/dist/antd.css\";\r\nimport { GetTreeData, GetTreeChildren } from \"./MockData\";\r\n//import { onRightClick } from \"./popup\";\r\n\r\nfunction updateTreeData(list, key, children) {\r\n  return list.map(node => {\r\n    if (node.key === key) {\r\n      return { ...node, children };\r\n    }\r\n    if (node.children) {\r\n      return {\r\n        ...node,\r\n        children: updateTreeData(node.children, key, children)\r\n      };\r\n    }\r\n\r\n    return node;\r\n  });\r\n}\r\nfunction GetChildNodes(ParentKey) {\r\n  let children = GetTreeChildren(ParentKey);\r\n  return children;\r\n}\r\n\r\nexport function Demo(props) {\r\n  const [treeData, setTreeData] = useState(GetTreeData());\r\n  const [Visible, setVisible] = useState(false);\r\n  const [NodePosition, SetNodePosition] = useState({\r\n    pageX: \"\",\r\n    pageY: \"\",\r\n    id: \"\",\r\n    categoryName: \"\"\r\n  });\r\n  function onLoadData({ key, children }) {\r\n    return new Promise(resolve => {\r\n      if (children) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      setTreeData(origin => updateTreeData(origin, key, GetChildNodes(key)));\r\n      resolve();\r\n    });\r\n  }\r\n\r\n  const hide = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleVisibleChange = visible => {\r\n    this.setState({ visible });\r\n  };\r\n  const onSelect = e => {\r\n    SetNodePosition({\r\n      rightClickNodeTreeItem: {\r\n        pageX: e.event.pageX,\r\n        pageY: e.event.pageY,\r\n        id: e.node.props[\"data-key\"],\r\n        categoryName: e.node.props[\"data-title\"]\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tree\r\n        loadData={onLoadData}\r\n        // onSelect={props.mySelect}\r\n        onSelect={\r\n          <Popover\r\n            content={<a onClick={hide}>Close</a>}\r\n            title=\"Title\"\r\n            trigger=\"click\"\r\n            visible={Visible}\r\n            onVisibleChange={handleVisibleChange}\r\n          ></Popover>\r\n        }\r\n        treeData={treeData}\r\n      />\r\n      <menu />\r\n      <Button type=\"primary\" onClick={() => props.myClick(\"Branch\")}>\r\n        Add new Branch\r\n      </Button>\r\n      <Button type=\"primary\" onClick={props.myClick} value=\"Employee\">\r\n        Add new Employee\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n//TODO: move the keys away from a delimited string\r\n//      add popup instead of buttons to add\r\nDemo.propTypes = {\r\n  mySelect: PropTypes.func.isRequired,\r\n  myClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Demo;\r\n"]},"metadata":{},"sourceType":"module"}