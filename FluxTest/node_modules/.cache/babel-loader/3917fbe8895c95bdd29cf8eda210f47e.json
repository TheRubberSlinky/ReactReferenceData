{"ast":null,"code":"import _slicedToArray from \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\TRISTAN\\\\Repos\\\\React-Reference-Data\\\\FluxTest\\\\src\\\\components\\\\AntTree.js\";\nimport React, { useState } from \"react\";\nimport { Tree, Button } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport \"antd/dist/antd.css\";\nimport { GetTreeData, GetTreeChildren } from \"./MockData\";\nimport { popup } from \"./popup\";\n\nfunction updateTreeData(list, key, children) {\n  return list.map(node => {\n    if (node.key === key) {\n      return _objectSpread({}, node, {\n        children\n      });\n    }\n\n    if (node.children) {\n      return _objectSpread({}, node, {\n        children: updateTreeData(node.children, key, children)\n      });\n    }\n\n    return node;\n  });\n}\n\nfunction GetChildNodes(ParentKey) {\n  let children = GetTreeChildren(ParentKey);\n  return children;\n}\n\nexport function Demo(props) {\n  const _useState = useState(GetTreeData()),\n        _useState2 = _slicedToArray(_useState, 2),\n        treeData = _useState2[0],\n        setTreeData = _useState2[1];\n\n  const _useState3 = useState({\n    pageX: \"\",\n    pageY: \"\",\n    id: \"\",\n    categoryName: \"\"\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        rightClickNodeTreeItem = _useState4[0],\n        setrightClickNodeTreeItem = _useState4[1];\n\n  function onLoadData({\n    key,\n    children\n  }) {\n    return new Promise(resolve => {\n      if (children) {\n        resolve();\n        return;\n      }\n\n      setTreeData(origin => updateTreeData(origin, key, GetChildNodes(key)));\n      resolve();\n    });\n  }\n\n  const onRightClick = e => {\n    setrightClickNodeTreeItem({\n      pageX: e.event.pageX,\n      pageY: e.event.pageY,\n      id: e.node.props[\"data-key\"],\n      categoryName: e.node.props[\"data-title\"]\n    });\n  };\n\n  const _rightClickNodeTreeIt = _objectSpread({}, rightClickNodeTreeItem),\n        pageX = _rightClickNodeTreeIt.pageX,\n        pageY = _rightClickNodeTreeIt.pageY,\n        id = _rightClickNodeTreeIt.id,\n        categoryName = _rightClickNodeTreeIt.categoryName;\n\n  const tmpStyle = {\n    position: \"absolute\",\n    left: \"\".concat(pageX - 220, \"px\"),\n    top: \"\".concat(pageY - 102, \"px\")\n  };\n  const menu = React.createElement(\"div\", {\n    style: tmpStyle,\n    className: \"self-right-menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \" new lower sector \"), React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \" modify \"), React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" delete the directory \"));\n  return React.createElement(React.Fragment, null, React.createElement(Tree, {\n    loadData: onLoadData,\n    onSelect: props.mySelect,\n    treeData: treeData,\n    onRightClick: onRightClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    onClick: () => props.myClick(\"Branch\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Add new Branch\"), React.createElement(Button, {\n    type: \"primary\",\n    onClick: props.myClick,\n    value: \"Employee\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Add new Employee\"));\n} //TODO: move the keys away from a delimited string\n//      add popup instead of buttons to add\n\nDemo.propTypes = {\n  mySelect: PropTypes.func.isRequired,\n  myClick: PropTypes.func.isRequired\n};\nexport default Demo;","map":{"version":3,"sources":["C:\\TRISTAN\\Repos\\React-Reference-Data\\FluxTest\\src\\components\\AntTree.js"],"names":["React","useState","Tree","Button","PropTypes","GetTreeData","GetTreeChildren","popup","updateTreeData","list","key","children","map","node","GetChildNodes","ParentKey","Demo","props","treeData","setTreeData","pageX","pageY","id","categoryName","rightClickNodeTreeItem","setrightClickNodeTreeItem","onLoadData","Promise","resolve","origin","onRightClick","e","event","tmpStyle","position","left","top","menu","mySelect","myClick","propTypes","func","isRequired"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,MAA7B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,oBAAP;AACA,SAASC,WAAT,EAAsBC,eAAtB,QAA6C,YAA7C;AACA,SAASC,KAAT,QAAsB,SAAtB;;AACA,SAASC,cAAT,CAAwBC,IAAxB,EAA8BC,GAA9B,EAAmCC,QAAnC,EAA6C;AAC3C,SAAOF,IAAI,CAACG,GAAL,CAASC,IAAI,IAAI;AACtB,QAAIA,IAAI,CAACH,GAAL,KAAaA,GAAjB,EAAsB;AACpB,+BAAYG,IAAZ;AAAkBF,QAAAA;AAAlB;AACD;;AACD,QAAIE,IAAI,CAACF,QAAT,EAAmB;AACjB,+BACKE,IADL;AAEEF,QAAAA,QAAQ,EAAEH,cAAc,CAACK,IAAI,CAACF,QAAN,EAAgBD,GAAhB,EAAqBC,QAArB;AAF1B;AAID;;AAED,WAAOE,IAAP;AACD,GAZM,CAAP;AAaD;;AACD,SAASC,aAAT,CAAuBC,SAAvB,EAAkC;AAChC,MAAIJ,QAAQ,GAAGL,eAAe,CAACS,SAAD,CAA9B;AACA,SAAOJ,QAAP;AACD;;AAED,OAAO,SAASK,IAAT,CAAcC,KAAd,EAAqB;AAAA,oBACMhB,QAAQ,CAACI,WAAW,EAAZ,CADd;AAAA;AAAA,QACnBa,QADmB;AAAA,QACTC,WADS;;AAAA,qBAEkClB,QAAQ,CAAC;AACnEmB,IAAAA,KAAK,EAAE,EAD4D;AAEnEC,IAAAA,KAAK,EAAE,EAF4D;AAGnEC,IAAAA,EAAE,EAAE,EAH+D;AAInEC,IAAAA,YAAY,EAAE;AAJqD,GAAD,CAF1C;AAAA;AAAA,QAEnBC,sBAFmB;AAAA,QAEKC,yBAFL;;AAS1B,WAASC,UAAT,CAAoB;AAAEhB,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAApB,EAAuC;AACrC,WAAO,IAAIgB,OAAJ,CAAYC,OAAO,IAAI;AAC5B,UAAIjB,QAAJ,EAAc;AACZiB,QAAAA,OAAO;AACP;AACD;;AAEDT,MAAAA,WAAW,CAACU,MAAM,IAAIrB,cAAc,CAACqB,MAAD,EAASnB,GAAT,EAAcI,aAAa,CAACJ,GAAD,CAA3B,CAAzB,CAAX;AACAkB,MAAAA,OAAO;AACR,KARM,CAAP;AASD;;AACD,QAAME,YAAY,GAAGC,CAAC,IAAI;AACxBN,IAAAA,yBAAyB,CAAC;AACxBL,MAAAA,KAAK,EAAEW,CAAC,CAACC,KAAF,CAAQZ,KADS;AAExBC,MAAAA,KAAK,EAAEU,CAAC,CAACC,KAAF,CAAQX,KAFS;AAGxBC,MAAAA,EAAE,EAAES,CAAC,CAAClB,IAAF,CAAOI,KAAP,CAAa,UAAb,CAHoB;AAIxBM,MAAAA,YAAY,EAAEQ,CAAC,CAAClB,IAAF,CAAOI,KAAP,CAAa,YAAb;AAJU,KAAD,CAAzB;AAMD,GAPD;;AApB0B,kDA6BrBO,sBA7BqB;AAAA,QA4BlBJ,KA5BkB,yBA4BlBA,KA5BkB;AAAA,QA4BXC,KA5BW,yBA4BXA,KA5BW;AAAA,QA4BJC,EA5BI,yBA4BJA,EA5BI;AAAA,QA4BAC,YA5BA,yBA4BAA,YA5BA;;AA+B1B,QAAMU,QAAQ,GAAG;AACfC,IAAAA,QAAQ,EAAE,UADK;AAEfC,IAAAA,IAAI,YAAKf,KAAK,GAAG,GAAb,OAFW;AAGfgB,IAAAA,GAAG,YAAKf,KAAK,GAAG,GAAb;AAHY,GAAjB;AAKA,QAAMgB,IAAI,GACR;AAAK,IAAA,KAAK,EAAEJ,QAAZ;AAAsB,IAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAHF,CADF;AAQA,SACE,0CACE,oBAAC,IAAD;AACE,IAAA,QAAQ,EAAEP,UADZ;AAEE,IAAA,QAAQ,EAAET,KAAK,CAACqB,QAFlB;AAGE,IAAA,QAAQ,EAAEpB,QAHZ;AAIE,IAAA,YAAY,EAAEY,YAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,OAAO,EAAE,MAAMb,KAAK,CAACsB,OAAN,CAAc,QAAd,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAPF,EAUE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,OAAO,EAAEtB,KAAK,CAACsB,OAAtC;AAA+C,IAAA,KAAK,EAAC,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAVF,CADF;AAgBD,C,CACD;AACA;;AACAvB,IAAI,CAACwB,SAAL,GAAiB;AACfF,EAAAA,QAAQ,EAAElC,SAAS,CAACqC,IAAV,CAAeC,UADV;AAEfH,EAAAA,OAAO,EAAEnC,SAAS,CAACqC,IAAV,CAAeC;AAFT,CAAjB;AAKA,eAAe1B,IAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Tree, Button } from \"antd\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"antd/dist/antd.css\";\r\nimport { GetTreeData, GetTreeChildren } from \"./MockData\";\r\nimport { popup } from \"./popup\";\r\nfunction updateTreeData(list, key, children) {\r\n  return list.map(node => {\r\n    if (node.key === key) {\r\n      return { ...node, children };\r\n    }\r\n    if (node.children) {\r\n      return {\r\n        ...node,\r\n        children: updateTreeData(node.children, key, children)\r\n      };\r\n    }\r\n\r\n    return node;\r\n  });\r\n}\r\nfunction GetChildNodes(ParentKey) {\r\n  let children = GetTreeChildren(ParentKey);\r\n  return children;\r\n}\r\n\r\nexport function Demo(props) {\r\n  const [treeData, setTreeData] = useState(GetTreeData());\r\n  const [rightClickNodeTreeItem, setrightClickNodeTreeItem] = useState({\r\n    pageX: \"\",\r\n    pageY: \"\",\r\n    id: \"\",\r\n    categoryName: \"\"\r\n  });\r\n\r\n  function onLoadData({ key, children }) {\r\n    return new Promise(resolve => {\r\n      if (children) {\r\n        resolve();\r\n        return;\r\n      }\r\n\r\n      setTreeData(origin => updateTreeData(origin, key, GetChildNodes(key)));\r\n      resolve();\r\n    });\r\n  }\r\n  const onRightClick = e => {\r\n    setrightClickNodeTreeItem({\r\n      pageX: e.event.pageX,\r\n      pageY: e.event.pageY,\r\n      id: e.node.props[\"data-key\"],\r\n      categoryName: e.node.props[\"data-title\"]\r\n    });\r\n  };\r\n  const { pageX, pageY, id, categoryName } = {\r\n    ...rightClickNodeTreeItem\r\n  };\r\n  const tmpStyle = {\r\n    position: \"absolute\",\r\n    left: `${pageX - 220}px`,\r\n    top: `${pageY - 102}px`\r\n  };\r\n  const menu = (\r\n    <div style={tmpStyle} className=\"self-right-menu\">\r\n      <a> new lower sector </a>\r\n      <a> modify </a>\r\n      <a> delete the directory </a>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Tree\r\n        loadData={onLoadData}\r\n        onSelect={props.mySelect}\r\n        treeData={treeData}\r\n        onRightClick={onRightClick}\r\n      />\r\n      <Button type=\"primary\" onClick={() => props.myClick(\"Branch\")}>\r\n        Add new Branch\r\n      </Button>\r\n      <Button type=\"primary\" onClick={props.myClick} value=\"Employee\">\r\n        Add new Employee\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n//TODO: move the keys away from a delimited string\r\n//      add popup instead of buttons to add\r\nDemo.propTypes = {\r\n  mySelect: PropTypes.func.isRequired,\r\n  myClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Demo;\r\n"]},"metadata":{},"sourceType":"module"}